<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>电子书阅读器</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="library">
    <h3>书库</h3>
    <div id="book-list">
      <p id="no-books-message">书库为空。</p>
    </div>
    <button id="import-book-btn">导入书籍</button>
    <div id="toc-container">
      <h3>目录</h3>
      <div id="toc-list"></div>
    </div>
    <div id="bookmarks-container">
      <h3>书签</h3>
      <div id="bookmarks-list"></div>
    </div>
  </div>
  <div id="main-content">
    <div id="settings-menu-container">
      <button id="settings-btn">⚙️</button>
      <div id="settings-menu" class="hidden">
        <div class="settings-item">
          <label for="theme-select">主题:</label>
          <select id="theme-select">
            <option value="light">明亮</option>
            <option value="dark">暗黑</option>
          </select>
        </div>
        <div class="settings-item">
          <label for="font-size-input">字号:</label>
          <input type="number" id="font-size-input" min="10" max="30" value="16">
        </div>
        <hr>
        <div class="settings-item">
          <label for="openai-url">API 地址:</label>
          <input type="text" id="openai-url" placeholder="https://api.openai.com/v1">
        </div>
        <div class="settings-item">
          <label for="openai-key">API 密钥:</label>
          <input type="password" id="openai-key" placeholder="sk-...">
        </div>
        <div class="settings-item">
          <label for="openai-model">模型:</label>
          <input type="text" id="openai-model" value="gpt-3.5-turbo">
        </div>
      </div>
    </div>
    <div id="reader">
      <div id="book-view"></div>
      <div id="initial-message">
        <h2>欢迎使用电子书阅读器</h2>
        <p>请从左侧书库选择一本书，或导入新书。</p>
      </div>
    </div>
    <div id="controls">
      <div id="navigation">
        <button id="prevPage">上一页</button>
        <button id="nextPage">下一页</button>
      </div>
      <button id="add-bookmark-btn">添加书签</button>
    </div>
    <div id="interaction">
      <input type="text" id="question" placeholder="输入问题或请求" />
      <button id="askBtn">提问</button>
    </div>
  </div>

<script src="./libs/jszip.min.js"></script>
<script src="./libs/epub.min.js"></script>
<script type="module" src="app.js"></script>
</body>
</html>
